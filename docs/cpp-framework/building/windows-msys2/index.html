<!DOCTYPE html>
<html>
  <head>
    <title>MISA&#43;&#43; Framework</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-11-13T13:44:06 CET">
<title>Building on Windows MSYS2 :: MISA&#43;&#43; Framework</title>
<link rel="shortcut icon" href="../../../images/favicon.png" type="image/x-icon" />
<link href="../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../css/nucleus.css" rel="stylesheet">
<link href="../../../theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../css/bootstrap.min.css">
<script src="../../../js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/applied-systems-biology.github.io\/misa-framework\/";
</script>
<link rel="stylesheet" href="../../../css/custom.css">


    
  </head>
  <body data-url="/cpp-framework/building/windows-msys2/">
    
      <header>
  <div class="logo">
    
	
  
    <a href="../../../" target="_self"><img src="../../../img/logo.svg" /></a><span style="font-size: 80%;">by <a href="https://www.leibniz-hki.de/en/applied-systems-biology.html" target="_blank">Applied Systems Biology, HKI Jena, Germany</a></span>

  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="../../../download"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="../../../citation"  rel="noopener">
                  <i class='fa fa-paragraph'></i> <label>Citation</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="../../../">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/imagej/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../imagej/">ImageJ plugin</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/imagej/installation/" class="dd-item">
        <div>
          <a href="../../../imagej/installation/">
            Installation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/step-by-step/" class="dd-item">
        <div>
          <a href="../../../imagej/step-by-step/">
            Tutorial: Step by step analysis
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/module-manager/" class="dd-item">
        <div>
          <a href="../../../imagej/module-manager/">
            Managing applications
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/analyzing-data/" class="dd-item">
        <div>
          <a href="../../../imagej/analyzing-data/">
            Analyzing data
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/creating-pipelines/" class="dd-item">
        <div>
          <a href="../../../imagej/creating-pipelines/">
            Creating pipelines
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/imagej/result-analyzer/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../imagej/result-analyzer/">Analyzing results</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/imagej/result-analyzer/output-data/" class="dd-item">
        <div>
          <a href="../../../imagej/result-analyzer/output-data/">
            Evaluating output data
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/result-analyzer/quantification-results/" class="dd-item">
        <div>
          <a href="../../../imagej/result-analyzer/quantification-results/">
            Browsing quantification results
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/result-analyzer/table-analyzer/" class="dd-item">
        <div>
          <a href="../../../imagej/result-analyzer/table-analyzer/">
            Summarizing quantification results
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/result-analyzer/plot-builder/" class="dd-item">
        <div>
          <a href="../../../imagej/result-analyzer/plot-builder/">
            Creating plots
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/imagej/result-analyzer/runtime-log/" class="dd-item">
        <div>
          <a href="../../../imagej/result-analyzer/runtime-log/">
            Analyzing the runtime
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/imagej/credits/" class="dd-item">
        <div>
          <a href="../../../imagej/credits/">
            Credits
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cpp-framework/" class="dd-item parent haschildren
        ">
      <div>
      <a href="../../../cpp-framework/">C&#43;&#43; Framework</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/cpp-framework/building/" class="dd-item parent haschildren
        ">
      <div>
      <a href="../../../cpp-framework/building/">Building</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cpp-framework/building/building-linux/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/building/building-linux/">
            Building on Linux
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/building/windows-cygwin/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/building/windows-cygwin/">
            Building on Windows Cygwin
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/building/windows-msys2/" class="dd-item active">
        <div>
          <a href="../../../cpp-framework/building/windows-msys2/">
            Building on Windows MSYS2
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/cpp-framework/running/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/running/">
            Running
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/cpp-framework/development/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../cpp-framework/development/">Development</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cpp-framework/development/prerequisites/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/prerequisites/">
            Prerequisites
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/development-environment/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/development-environment/">
            Setting up a project
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/declaring-data/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/declaring-data/">
            Declaring data
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/creating-tasks/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/creating-tasks/">
            Creating tasks
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/creating-dispatchers/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/creating-dispatchers/">
            Creating dispatchers
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/dispatching-submodules/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/dispatching-submodules/">
            Dispatching submodules
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/attaching-data/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/attaching-data/">
            Attaching data
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/creating-caches/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/creating-caches/">
            Creating caches
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/development/tips/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/development/tips/">
            Tips and tricks
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cpp-framework/standards/" class="dd-item haschildren
        ">
      <div>
      <a href="../../../cpp-framework/standards/">Standards</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/cpp-framework/standards/attachments/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/attachments/">
            Attachments
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/module-info/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/module-info/">
            Module info
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/parameter-schema/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/parameter-schema/">
            Parameter schema
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/parameters/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/parameters/">
            Parameters
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/public-api/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/public-api/">
            Public API
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/output-data/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/output-data/">
            Result folder
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/runtime-log/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/runtime-log/">
            Runtime log
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/standards/serialization-id/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/standards/serialization-id/">
            Serialization ID
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/cpp-framework/glossary/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/glossary/">
            Glossary
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/references/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/references/">
            Class reference
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/cpp-framework/credits/" class="dd-item">
        <div>
          <a href="../../../cpp-framework/credits/">
            Credits
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/download/" class="dd-item
        ">
      <div>
      <a href="../../../download/">Download</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/citation/" class="dd-item
        ">
      <div>
      <a href="../../../citation/">Citation</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/imagej/" >
   ImageJ plugin</option>
    <option value="/cpp-framework/" >
   C&#43;&#43; Framework</option> 
    <option value="/cpp-framework/building/" >
  - 
   Building</option> 
      <option value="/cpp-framework/building/building-linux/" >-- Building on Linux</option>
      <option value="/cpp-framework/building/windows-cygwin/" >-- Building on Windows Cygwin</option>
      <option value="/cpp-framework/building/windows-msys2/"  selected>-- Building on Windows MSYS2</option>
  
      <option value="/cpp-framework/running/" >- Running</option>
    <option value="/cpp-framework/development/" >
  - 
   Development</option>
    <option value="/cpp-framework/standards/" >
  - 
   Standards</option>
      <option value="/cpp-framework/glossary/" >- Glossary</option>
      <option value="/cpp-framework/references/" >- Class reference</option>
      <option value="/cpp-framework/credits/" >- Credits</option>
  
    <option value="/download/" >
   Download</option>
    <option value="/citation/" >
   Citation</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="../../../js/lunr.min.js"></script>
        <script type="text/javascript" src="../../../js/auto-complete.js"></script>
        <link href="../../../css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/applied-systems-biology.github.io\/misa-framework\/";
          
        </script>
        <script type="text/javascript" src="../../../js/search.js"></script>
      </div>
    

    <h1>Building on Windows MSYS2</h1>
    
    
    
    

<div class="notices warning" >Update: Due to the rolling release nature of MSYS2,
the MSYS2 build process is currently broken. The Boost 1.70+ library that
is provided by MSYS2 is incompatible with OME libraries due to a change in
CMake targets. Please use our guide for Cygwin to build MISA++ on Windows.</div>

<p>We tested building on Windows via the <a href="https://www.msys2.org/">MSYS2</a> environment.</p>

<div class="notices warning" >Please note that the Visual Studio compiler is not
supported due to missing OpenMP 3.x capabilities.</div>

<div class="notices warning" >We consider building on Windows experimental due to random crashes
of compiled programs during starting. We were yet not able to find the cause of those crashes,
although review using library inspection software hints at the inability to load dynamic
libraries under certain circumstances.</div>

<h1 id="prerequisites">Prerequisites</h1>

<ol>
<li>Download and install <a href="https://www.msys2.org/">MSYS2</a>.</li>
<li>Start MSYS2 (MinGW 64-bit) and update the packages by typing <code>pacman -Syyu</code></li>
<li>Let the process finish and <strong>close</strong> the terminal as instructed</li>
<li>Restart MSYS2 (MinGW 64-bit)</li>
</ol>

<h1 id="using-the-superbuild-script">Using the superbuild script</h1>

<p>We provide fully automated scripts that installs MISA++ Core, the modules we
provide, and all necessary dependencies.</p>

<ol>
<li>Download or clone the <a href="https://github.com/applied-systems-biology/misaxx-utils">MISA++ Utils repository</a></li>
<li>Open an MSYS2 (MinGW 64-bit) shell and navigate into the <code>windows-builds/msys2/superbuild-win32</code> folder</li>
<li>Run <code>./superbuild.sh</code> and follow the instructions</li>
</ol>

<p>To create a distributable package of the MISA++ applications, run following command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./superbuild.sh
./package.py</code></pre></div>
<p>To create a <a href="http://fiji.sc/">Fiji</a> distribution that comes pre-installed with MISA++
for ImageJ and the MISA++ applications, run following command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./superbuild.sh
./package.py
./package-fiji.sh</code></pre></div>
<div class="panel panel-danger">
    <div class="panel-heading">Warning</div>
    <div class="panel-body">
The OME libraries might be incompatible with the boost version provided by MSYS2 (Cannot find libraries).
If this is the case four you, remove boost via `pacman -R mingw-w64-x86_64-boost` and remove the
`mingw-w64-$MSYS2_PLATFORM-boost \` line in `superbuild.sh`.

First make sure that `patch` is installed by running `pacman -S patch`.

Clone the MSYS2 package build script repository via `git clone https://github.com/msys2/MINGW-packages.git`
and go back to the commit that contains the script to install Boost version 1.69 by navigating into the
`MINGW-packages` repository and running `git checkout fff2fc0d53aa95b85cee0c785e56159b0565ea72`.

Navigate into the `mingw-w64-boost` folder and run `makepkg -si`. The command will compile the correct Boost
version and install it.
</div>
    

<p></div></p>

<h1 id="manually-building">Manually building</h1>

<p>Install the necessary MSYS2 packages:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pacman -S --noconfirm --needed unzip mingw-w64-x86_64-cmake <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>wget <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-toolchain <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-boost <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-make <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>libsqlite <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>libsqlite-devel <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-opencv <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-libtiff <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-xerces-c <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-xalan-c <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-libpng <span style="color:#8045ff">\
</span><span style="color:#8045ff"></span>mingw-w64-x86_64-python2</code></pre></div>
<p>Obtain the MISA++ sources and the sources of dependencies that are not in
MSYS2. Build them like any CMake build:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#111">cd</span> <span style="color:#111">$SOURCE_CODE</span>
mkdir build
<span style="color:#111">cd</span> build
cmake -DCMAKE_BUILD_TYPE<span style="color:#f92672">=</span>Release -DBUILD_SHARED_LIBS<span style="color:#f92672">=</span>OFF -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>/mingw64/ -G <span style="color:#d88200">&#34;Unix Makefiles&#34;</span> ..</code></pre></div>
<div class="panel panel-danger">
    <div class="panel-heading">Warning</div>
    <div class="panel-body">
* Building OME libraries dynamically caused segmentation faults during application runtime (Error 0xc0000005). Build the libraries statically to avoid the issue.
* Dynamically built MISA++ libraries caused random (~ every 10th execution) 0xc0000005 errors. We again decided to only link statically.
* OME Model requires `OME_HOME` to be set to `/mingw64/` or any other folder that contains `./share/xml` and `./share/xsl`
</div>
    

<p></div></p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="../../../cpp-framework/building/windows-cygwin/" title="Building on Windows Cygwin"> <i class="fa fa-chevron-left"></i><label>Building on Windows Cygwin</label></a>
    <a class="nav nav-next" href="../../../cpp-framework/development/" title="Development" style="margin-right: 0px;"><label>Development</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    
    <div class="author">
        <i class='fa fa-user'></i> <a href="mailto:ruman.gerst@leibniz-hki.de">Ruman Gerst</a>
    </div>
    

    

    
  </div>


	<div>


  
    <p>By <a href="https://www.leibniz-hki.de/en/applied-systems-biology.html">Applied Systems Biology, Leibniz Institute for Natural Product Research and Infection Biology – Hans Knöll Institute (HKI), Jena, Germany</a></p>

  



	</div>
</footer>

<script src="../../../js/clipboard.min.js"></script>

<link href="../../../css/featherlight.min.css" rel="stylesheet">
<script src="../../../js/featherlight.min.js"></script>



<script src="../../../theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>